/*!
 * name: @feizheng/next-fetch-with-node-timeout
 * description: Timeout option for node-fetch with abort-controller.
 * homepage: https://github.com/afeiship/next-fetch-with-node-timeout
 * version: 1.0.0
 * date: 2020-06-27T14:14:48.926Z
 * license: MIT
 */
!function(){var e=e||this||window||Function("return this")(),r=e.nx||require("@feizheng/next-js-core2"),c=require("abort-controller"),f={timeout:3e4};r.fetchWithNodeTimeout=function(u){return function(e,t){var o=r.mix(null,f,t),n=new c,o=r.mix({signal:n.signal},o),i=setTimeout(function(){n.abort()},o.timeout);return new Promise(function(t,n){u(e,o).then(function(e){clearTimeout(i),t(e)}).catch(function(e){n(e)})})}},"undefined"!=typeof module&&module.exports&&(module.exports=r.fetchWithNodeTimeout)}();